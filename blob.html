<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Audio Visualizer</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="./css/common.css">
    </head>
	<body>
        <script src="common/lib/three.min.js"></script>
        <script src="common/lib/OrbitControls.js"></script>
        <script src="common/lib/CopyShader.js"></script>
        <script src="common/lib/ConvolutionShader.js"></script>
        <script src="common/lib/EffectComposer.js"></script>
        <script src="common/lib/RenderPass.js"></script>
        <script src="common/lib/ShaderPass.js"></script>
        <script src="common/lib/BloomPass.js"></script>
        <script src="common/lib/ShaderExtras.js"></script>
        <script type="text/javascript" src="js_helpers/jquery.min.js"></script>
        <script>
		var songs = new Array(
		  "",
		  "-- Select a song --",
		  "songs/speaking_gently.mp3",
		  "Speaking Gently",
		  "songs/such_great_heights.mp3",
		  "Such Great Heights",
		  "songs/someday_my_prince.mp3",
		  "Someday My Prince Will Come - Miles Davis",
		  "songs/frontier_village_night.mp3",
		  "Xenoblade Chronicles: Frontier Village (Night)",
		  "songs/fuck_cancer.mp3",
		  "Fuck Cancer",
		  "songs/jazz.mp3",
		  "Jazz",
		  "songs/really_love.mp3",
		  "Really Love",
		  "songs/rough_soul_remix.mp3",
		  "Rough Soul",
		  "songs/my_girl.mp3",
		  "My Girl",
          "songs/opus.mp3",
          "OPUS",
          "songs/something_they_dont_know.mp3",
          "Something They Don't Know"
		);

		function switchSongs(i)
		{
            var file = songs[i * 2];
            var selector = document.getElementById('song_selector');
            selector.selectedIndex = i;
            if (i != 0) {
            load_music(file);
            }
		}

        var viz_options = new Array(
            "-- Choose a Visualization --",
            "Rings",
            "Spiral",
            "Wings"
        );

        var viz_option;

        function switchViz(i) {
            viz_option = viz_options[i];
        }
		</script>

        <div class="title" style="font-family:sans-serif">
            <span>BLOB <br /> SIM</span>
        </div>
        <div class="directions" style="font-family:sans-serif">
            <span>Spacebar: play/pause; Right click to pan; Left Click to rotate; Scroll to zoom</span>
        </div>
		<div class="menu">
	        <div style="padding:0.5rem 0;">
	            <button style="float:left" data-js="play">play</button>
	            <button data-js="stop">stop</button>
	        </div>
	        <div class="select-container" style="margin-top: 10px">
	            <select class="" name="song_selector" id="song_selector" onChange="switchSongs(selectedIndex)">
    	            <script>
    	            for (i = 0; (i < songs.length); i += 2) {
    	              var file = songs[i];
    	              var title = songs[i + 1];
    	              document.write('<option value="' +
    	                i + '">' +
    	                title + '</option>\n');
    	            }
    	            </script>
	            </select>
	        </div>
            <div class="select-container">
                <select class="" name="viz_selector" id="viz_selector" onChange="switchViz(selectedIndex)">
	            <script>
	            for (i = 0; (i < viz_options.length); i += 1) {
	              var type = viz_options[i];
	              document.write('<option value="' +
	                i + '">' +
	                type + '</option>\n');
	            }
	            </script>
	            </select>
            </div>
            <label class="container">Render
                <span class="checkmark"></span>
            </label>


            <a href="particles.html" style="float:left;display:block;"><button><span>&#8594;</span></button></a>
            <!-- <a href="logarithmic.html" style="display:block;"><button>Particle Sim (Logarithmic)</button></a> -->
	    </div>
        <script src="./blob.js"></script>
        <script>
            var check = $(".checkmark");
            var i = 0;
            check.click(function() {
                var c = $(".checkmark");
                $(".checkmark").toggleClass("checked");
                if (c.hasClass("checked")) {
                    params.material = "render";
                    console.log(params);
                } else {
                    params.material = "wireframe";
                    console.log(params);
                }
            })
        </script>
	</body>
</html>
